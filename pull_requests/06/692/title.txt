Move rustc to the new llvm type system. Requires an update to llvm trunk.