Various type and trans cleanups.