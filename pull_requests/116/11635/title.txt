handle zero-size allocations correctly