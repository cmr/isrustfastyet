fixing no-implicit-copies warning for json, switching to str/vec slices, and other cleanup