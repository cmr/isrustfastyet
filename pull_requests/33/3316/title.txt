fix issue #3222