libsyntax: refactor the parser to consider foreign items as items