Fix a bug where read(buf, len) would fail if buf was big enough and ...