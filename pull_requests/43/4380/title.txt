vector cleanup and turning ast::spanned into a struct