Propagate expected type through blocks