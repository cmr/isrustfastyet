auto: major treemap performance improvements