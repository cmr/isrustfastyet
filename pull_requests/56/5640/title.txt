libsyntax: Refactor deriving to reduce boilerplate required & derive Ord, TotalOrd and TotalEq