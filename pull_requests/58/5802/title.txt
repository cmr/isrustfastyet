Cleanup substitutions and treatment of generics around traits in a number of ways