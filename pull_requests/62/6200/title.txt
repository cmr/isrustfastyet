rustc: Handle struct patterns where the expected type is an enum