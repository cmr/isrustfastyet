Fix passing self by value for types passed by value