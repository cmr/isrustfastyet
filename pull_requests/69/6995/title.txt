Replacing redundant internal iterators with external ones, part 1