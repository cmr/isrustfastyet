smallint{map,set}: replace iterators with DoubleEndedIterator