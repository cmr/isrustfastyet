test: add more codegen tests, add copyright headers to all.