Assorted iterator fixes in libstd