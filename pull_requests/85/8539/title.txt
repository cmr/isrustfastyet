 visitor trait rewrite  step2