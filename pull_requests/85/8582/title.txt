container/iterator improvements + small changes