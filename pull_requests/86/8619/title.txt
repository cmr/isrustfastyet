 visitor trait rewrite step 3 (of 5).