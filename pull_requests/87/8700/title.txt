Rewrite pass management with LLVM