fix performance regression from invalid IR