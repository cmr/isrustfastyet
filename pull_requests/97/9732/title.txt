rustpkg: Make checked-out source files read-only, and overhaul where temporary files are stored